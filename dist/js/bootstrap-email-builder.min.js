/*!
Bootstrap Email Builder v0.0.1
Copyright (c) 161 SARL, http://161.io
License: https://github.com/161io/bootstrap-email-builder/blob/master/license.txt
 */
(function(){var a,b,c,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}};e=window,d=document,e.AbstractBsEbTypeElement=function(){function a(a){this.$element=a,this.type=null,this.$element&&(this.$element.data("bseb-instance",this),this.type=this.$element.data("type"),this.defaultEvents(),this.events(),this.$element.trigger("bseb-elt-ready"))}return a.prototype._intFilter=function(a,b){return null==b&&(b="px"),a=parseInt(a),(isNaN(a)||a<0)&&(a=0),b&&(a+=b),a},a.prototype.buildHtml=function(a,b,c){var d;return c||(c='<div class="'+BsEbConstant.CLASS_NAME_ELEMENT_CONTENT+'" data-type="'+b+'"></div>'),this.type=b,this.$element=d=$(c),d.data("bseb-instance",this),this.defaultEvents(),this.events(),a.after(d),d.trigger("bseb-elt-ready"),this},a.prototype.defaultEvents=function(){return this.$element.on("contextmenu",function(a){return $(BsEbConstant.SELECTOR_ID_CONTEXTMENU).data("bseb-instance").show(a,$(this))}).on("bseb-elt-remove",function(){return $(this).remove()}).on("click",function(a){return function(){return a.$element.trigger("bseb-elt-more"),!1}}(this)),this},a.prototype.events=function(){},a.prototype.disableSortable=function(a){return a=a?"disable":"enable",$(BsEbConstant.SELECTOR_CONTAINER+">tbody").sortable(a),$(""+BsEbConstant.SELECTOR_STRUCT_CONTENT).sortable(a),this},a.idInc=0,a.getNewId=function(){return"bseb-id-"+$.now()+"-"+ ++this.idInc},a}(),e.BootstrapEmailBuilder=function(){function c(a){var b,c;null==a&&(a={}),this.$render=null!=(b=a.$render)?b:$("#bs-eb-render"),this.$tool=null!=(c=a.$tool)?c:$(".bs-eb-tool"),this.body=null,this.contextMenu=null,this.ready()}return c.prototype.ready=function(){return this.translate(),this.toolButtons(),this.toolEvents(),this.body=new BsEbBody(this.$render,this.$tool),this.contextMenu=new a,this},c.prototype.translate=function(){return e.bootstrapEmailBuilder?($("[data-locale]").each(function(){var a;return a=$(this),a.html(BsEbConstant.translate(a.text()))}),this):this},c.prototype.toolButtons=function(){var a;return a=$("#bs-eb-content>.row"),$.each(e,function(b,c){if(c&&c.prototype instanceof e.AbstractBsEbTypeElement)return a.append(c.tabButton())}),this},c.prototype.toolEvents=function(){var a;return a=function(a,b){return a.width(b.width())},this.$tool.find('[data-draggable-type^="elt"]').draggable({appendTo:"body",helper:"clone",start:function(b,c){return a(c.helper,$(this))},cursor:"move",zIndex:10,connectToSortable:BsEbConstant.SELECTOR_STRUCT_CONTENT}),BsEbTypeStructure.constructor2($(BsEbConstant.SELECTOR_STRUCT_CONTAINER)),this.$tool.find('[data-draggable-type^="struct"]').draggable({appendTo:"body",helper:"clone",start:function(b,c){return a(c.helper,$(this))},cursor:"move",zIndex:10,revert:"invalid",revertDuration:300,connectToSortable:BsEbConstant.SELECTOR_CONTAINER+">tbody"}),$(BsEbConstant.SELECTOR_CONTAINER+">tbody").sortable({start:function(b,c){return a(c.helper.find("table").first(),$(this))},cursor:"move",placeholder:"bg-warning",receive:function(a,b){var c,d,e;return c=b.helper,e=c.data("draggable-type"),d=new BsEbTypeStructure,d.buildHtml(c,e),c.remove()}}),b.constructor2($(BsEbConstant.SELECTOR_ELEMENT_CONTENT)),this},c.prototype.save=function(a){var b,c,d,e,f;return null==a&&(a=!1),e=function(a){return("0"+parseInt(a).toString(16)).slice(-2)},d=this.$render,c=$("<tag-html><tag-body/></tag-html>"),b=c.children(),b.html(d.html()),b.find("*").removeAttr("data-mce-href").removeAttr("data-mce-style").css({position:""}),this.body.prepareSave(a,c),a&&b.find("*").removeAttr("class").removeAttr("id").removeAttr("data-type").removeAttr("contenteditable"),f=c.html().replace(/tag-body/g,"body").replace(/^\s+/gm,"").replace(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/g,function(a,b,c,d){return"#"+e(b)+e(c)+e(d)})},c}(),e.BsEbBody=function(){function a(a,b){var c;this.$render=a,this.$tool=b,this.fontSizeChange=f(this.fontSizeChange,this),this.fontFamilyChange=f(this.fontFamilyChange,this),this.textColorChange=f(this.textColorChange,this),this.linkColorChange=f(this.linkColorChange,this),this.bgColorChange=f(this.bgColorChange,this),this.widthChange=f(this.widthChange,this),c=this.$tool,this.$inputWidth=c.find('[data-name="width"]'),this.$inputBackgroundColor=c.find('[data-name="background-color"]'),this.$inputLinkColor=c.find('[data-name="link-color"]'),this.$inputTextColor=c.find('[data-name="text-color"]'),this.$inputFontFamily=c.find('[data-name="font-family"]'),this.$inputFontSize=c.find('[data-name="font-size"]'),this.bodyStyle=null,this.textStyle=null,this.aStyle=null,this.ready()}return a.prototype.defaultWidth=500,a.prototype.defaultBgColor="#ffffff",a.prototype.defaultLinkColor="#0000ff",a.prototype.defaultTextColor="#000000",a.prototype.defaultFontFamily="Helvetica, Arial, sans-serif",a.prototype.defaultFontSize=14,a.prototype.ready=function(){return this.prepareJsStyle(),this.restoreVal(),this.events(),this},a.prototype.prepareJsStyle=function(){var a,b;return a=BsEbConstant.SELECTOR_ELEMENT_CONTENT+" a,",a+=BsEbConstant.SELECTOR_ELEMENT_CONTENT+" a:active,",a+=BsEbConstant.SELECTOR_ELEMENT_CONTENT+" a:focus,",a+=BsEbConstant.SELECTOR_ELEMENT_CONTENT+" a:hover,",a+=BsEbConstant.SELECTOR_ELEMENT_CONTENT+" a:visited",b=new c,this.bodyStyle=b.getStyleBySelector("#"+this.$render.attr("id")),this.textStyle=b.getStyleBySelector(BsEbConstant.SELECTOR_ELEMENT_CONTENT),this.aStyle=b.getStyleBySelector(a),this.aStyle.textDecoration="none",this},a.prototype.restoreVal=function(){var a,b,c,d,e,f;return f=$(BsEbConstant.SELECTOR_CONTAINER).attr("width"),f||(f=this.defaultWidth),this.$inputWidth.val(f),a=this.$render.data("body-bgcolor"),a||(a=this.defaultBgColor),this.$inputBackgroundColor.val(a),this.bodyStyle.backgroundColor=a,d=this.$render.data("body-link"),d||(d=this.defaultLinkColor),this.$inputLinkColor.val(d),this.aStyle.color=d,e=this.$render.data("body-text"),e||(e=this.defaultTextColor),this.$inputTextColor.val(e),this.textStyle.color=e,b=this.$render.css("fontFamily"),b||(b=this.defaultFontFamily),this.$inputFontFamily.val(b),this.bodyStyle.fontFamily=b,this.textStyle.fontFamily=b,c=parseInt(this.$render.css("fontSize")),!isNaN(c)&&c||(c=this.defaultFontSize),this.$inputFontSize.val(c),c+="px",this.bodyStyle.fontSize=c,this.textStyle.fontSize=c,this},a.prototype.events=function(){var a;return a=this,this.$inputWidth.on("change click",this.widthChange),this.$inputBackgroundColor.on("change click",this.bgColorChange),BsEbColorSelection.colorpicker(this.$inputBackgroundColor),this.$inputLinkColor.on("change click",this.linkColorChange),BsEbColorSelection.colorpicker(this.$inputLinkColor),this.$inputTextColor.on("change click",this.textColorChange),BsEbColorSelection.colorpicker(this.$inputTextColor),this.$inputFontFamily.on("keyup focus blur change",this.fontFamilyChange).parent().find(".dropdown-menu a").on("click",function(){return a.$inputFontFamily.val($(this).css("fontFamily")).trigger("change")}),this.$inputFontSize.on("keyup focus blur change",this.fontSizeChange),this},a.prototype.widthChange=function(){var a,b,c,d;return a=this.$inputWidth,d=parseInt(a.val()),isNaN(d)&&(d=0),c=parseInt(a.attr("min")),b=parseInt(a.attr("max")),isNaN(c||!c)&&(c=400),isNaN(b||!b)&&(b=800),d<c?d=c:d>b&&(d=b),a.val(d),$(BsEbConstant.SELECTOR_CONTAINER).attr("width",d),this.$render.css("minWidth",40+d+"px"),this},a.prototype.bgColorChange=function(){var a;return a=this.$inputBackgroundColor.val(),this.$render.attr("data-body-bgcolor",a),this.bodyStyle.backgroundColor=a,this},a.prototype.linkColorChange=function(){var a;return a=this.$inputLinkColor.val(),this.$render.attr("data-body-link",a),this.aStyle.color=a,this},a.prototype.textColorChange=function(){var a;return a=this.$inputTextColor.val(),this.$render.attr("data-body-text",a),this.textStyle.color=a,this},a.prototype.fontFamilyChange=function(){var a;return a=this.$inputFontFamily.val(),this.$render.css("fontFamily",a),this.bodyStyle.fontFamily=a,this.textStyle.fontFamily=a,this},a.prototype.fontSizeChange=function(a){var b,c;return b=c=parseInt(this.$inputFontSize.val()),(isNaN(b)||b<8||b>99)&&(b=this.defaultFontSize),"keyup"!==a.type&&c!==b&&this.$inputFontSize.val(b),b+="px",this.$render.css("fontSize",b),this.bodyStyle.fontSize=b,this.textStyle.fontSize=b,this},a.prototype.prepareSave=function(a,b){var c,d,e,f,g,h,i;return d=this.$render,e=d.attr("data-body-bgcolor"),h=d.attr("data-body-link"),i=d.attr("data-body-text"),f=d.css("fontFamily"),g=d.css("fontSize"),c=b.children(),c.attr({"data-body-bgcolor":e,"data-body-text":i,"data-body-link":h}).css({fontFamily:f,fontSize:g}),a?(c.attr({bgcolor:e,link:h,alink:h,vlink:h,text:i}).css({backgroundColor:e,color:i}).removeAttr("data-body-bgcolor").removeAttr("data-body-text").removeAttr("data-body-link"),c.find("a").each(function(){var a;if(a=$(this),a.css("color")||a.css("color",h),!a.css("textDecoration"))return a.css("textDecoration","none")}),c.find(BsEbConstant.SELECTOR_ELEMENT_CONTENT).css({fontFamily:f,fontSize:g}),this):this},a}(),e.BsEbColorSelection=function(){function a(){}return a.colors={},a.textBOW=function(a){var b;return a=a.replace("#",""),3===a.length&&(b=a.split(""),a=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]),parseInt(a,16)>8388607.5?"#000":"#fff"},a.isEmpty=function(){var a,b,c;c=this.colors;for(b in c)return a=c[b],!1;return!0},a.dropdown=function(a){var b,c,d,e,f;if(!this.isEmpty()){c="",f=this.colors;for(e in f)d=f[e],c+='<li><a style="background-color:'+d+" !important;color:"+this.textBOW(d)+';" data-color="'+d+'">'+e+"</a></li>";return b=$('<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span></button>\n<ul class="dropdown-menu dropdown-menu-right">'+c+"</ul>"),a&&(b.appendTo(a.parent().find(".input-group-btn")),b.find("li a").on("click",function(){return a.colorpicker("setValue",$(this).data("color"))})),b}},a.tinymceSettings=function(){var a,b,c,d;if(e.tinyMCE&&!this.isEmpty()){b=[],d=this.colors;for(c in d)a=d[c],b.push(a.replace("#","")),b.push(c);return tinyMCE.settings.textcolor_map=b}},a.colorpicker=function(b){return $(b).each(function(){var b;return b=$(this),b.colorpicker({format:"hex"}).on("changeColor",function(){return b.trigger("click")}).on("changeColor.up",function(){return b.parent().find(".btn-colorpicker").css({background:b.colorpicker("getValue","#fff")})}).parent().find(".btn-colorpicker").on("click",function(){return b.focus()}),b.val()&&b.trigger("changeColor.up"),a.dropdown(b)})},a}(),e.BsEbConstant=function(){function a(){}return a.CLASS_NAME_CONTAINER="eb-container",a.CLASS_NAME_STRUCT_CONTAINER="eb-struct-container",a.CLASS_NAME_STRUCT_CONTENT="eb-struct-content",a.CLASS_NAME_ELEMENT_CONTENT="eb-elt-content",a.ID_CONTEXTMENU="bs-eb-contextmenu",a.ID_MODAL="bs-eb-modal",a.SELECTOR_CONTAINER=".eb-container",a.SELECTOR_STRUCT_CONTAINER=".eb-struct-container",a.SELECTOR_STRUCT_CONTENT=".eb-struct-content",a.SELECTOR_ELEMENT_CONTENT=".eb-elt-content",a.SELECTOR_ID_CONTEXTMENU="#bs-eb-contextmenu",a.SELECTOR_ID_MODAL="#bs-eb-modal",a.translate=function(a){return e.bootstrapEmailBuilder&&bootstrapEmailBuilder.locale[a]?bootstrapEmailBuilder.locale[a]:a},a.escape=function(a){return $("<p></p>").text(a).html()},a}(),a=function(){function a(){this.$element=null,this.$targetElement=null,this.buildHtml(),this.events()}return a.prototype.buildHtml=function(){var a;return a=$('<ul id="'+BsEbConstant.ID_CONTEXTMENU+'" class="dropdown-menu">\n    <li data-with-elt="" class="dropdown-header">'+BsEbConstant.translate("Content")+'</li>\n    <li data-with-elt=""><a href="#" data-action="elt-more"><span class="glyphicon glyphicon-wrench"></span> '+BsEbConstant.translate("Options")+'</a></li>\n    <li data-with-elt=""><a href="#" data-action="elt-remove"><span class="text-danger"><span class="glyphicon glyphicon-trash"></span> '+BsEbConstant.translate("Delete")+'</span></a></li>\n    <li data-with-elt="" class="divider"></li>\n    <li class="dropdown-header">'+BsEbConstant.translate("Structure")+'</li>\n    <li><a href="#" data-action="struct-more"><span class="glyphicon glyphicon-wrench"></span> '+BsEbConstant.translate("Options")+'</a></li>\n    <li><a href="#" data-action="struct-remove"><span class="text-danger"><span class="glyphicon glyphicon-trash"></span> '+BsEbConstant.translate("Delete")+"</span></a></li>\n</ul>"),this.$element=a,a.appendTo("body"),a.data("bseb-instance",this),this},a.prototype.events=function(){var a;return a=this,this.$element.on("mouseleave",function(){return $(this).css("display","none")}).on("contextmenu",function(a){return a.preventDefault(),$(this).trigger("mouseleave")}).find("[data-action]").on("click",function(b){return a.actionClick(b,$(this).data("action"))}),this},a.prototype.actionClick=function(a,b){var c,d;switch(c=this.$targetElement,d=function(){var a,b;return a=c.parents(BsEbConstant.SELECTOR_STRUCT_CONTAINER),b=a.length?a.parent("td").parent("tr"):c},b){case"elt-more":c.trigger("bseb-elt-more");break;case"elt-remove":c.trigger("bseb-elt-remove");break;case"struct-more":d().trigger("bseb-struct-more");break;case"struct-remove":d().trigger("bseb-struct-remove")}return this.$element.trigger("mouseleave"),!1},a.prototype.show=function(a,b){var c;return a&&"contextmenu"===a.type&&(a.preventDefault(),a.stopPropagation()),this.$targetElement=b,c=b.hasClass(BsEbConstant.CLASS_NAME_ELEMENT_CONTENT)?"":"none",this.$element.find("[data-with-elt]").css("display",c).end().css({display:"block",left:a.pageX,top:a.pageY}),this},a}(),e.BsEbModal=function(){function a(a){var b,c,d,e,f,g,h;this.title=null!=(b=a.title)?b:"Modal",this.body=null!=(c=a.body)?c:"",this.btnCancelClick=null!=(d=a.btnCancelClick)?d:function(){},this.btnCancelValue=null!=(e=a.btnCancelValue)?e:BsEbConstant.translate("Cancel"),this.btnOkClick=null!=(f=a.btnOkClick)?f:function(){},this.btnOkValue=null!=(g=a.btnOkValue)?g:BsEbConstant.translate("OK"),this.modalReady=null!=(h=a.modalReady)?h:function(){},$(BsEbConstant.SELECTOR_ID_MODAL).remove(),this.$modal=null,this.buildHtml()}return a.prototype.buildHtml=function(){var a;return a=$('<div class="modal fade" id="'+BsEbConstant.ID_MODAL+'" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content">\n<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">'+this.title+'</h4></div>\n<div class="modal-body">'+this.body+'</div>\n<div class="modal-footer"><button type="button" class="btn btn-default btn-cancel" data-dismiss="modal">'+this.btnCancelValue+'</button> <button type="button" class="btn btn-primary btn-ok">'+this.btnOkValue+"</button></div>\n</div></div></div>"),this.$modal=a,a.find(".btn-cancel").on("click",this.btnCancelClick),a.find(".btn-ok").on("click",this.btnOkClick),a.appendTo("body"),this.show(),this.modalReady(),this},a.prototype.show=function(){return this.$modal.modal("show"),this},a.prototype.hide=function(){return this.$modal.modal("hide"),this},a}(),b=function(){function a(b){var c,d,f;return f=b.data("draggable-type"),c=a.getClassTypeElement(f),e[c]?(d=new e[c],void d.buildHtml(b,f)):void alert(c+" was not found")}return a.separatorToCamelCase=function(a){return a.toLowerCase().replace(/[^a-z0-9]+/gi," ").replace(/^([a-z\u00E0-\u00FC])|\s+([a-z\u00E0-\u00FC])/g,function(a){return a.toUpperCase()}).replace(/\s+/g,"")},a.getClassTypeElement=function(a){return"BsEbType"+this.separatorToCamelCase(a.replace(/^elt-/,"Element-"))},a.constructor2=function(b){return b.each(function(){var b,c,d;if(b=$(this),d=b.data("type"),c=a.getClassTypeElement(d),!e[c])throw c+" was not found";return new e[c](b)})},a}(),e.BsEbTypeStructure=function(){function a(a){this.$element=a,this.onRemove=f(this.onRemove,this),this.onMore=f(this.onMore,this),this.type=null,this.$element&&(this.$element.data("bseb-instance",this),this.type=this.$element.data("type"),this.events())}return a.prototype.defaultWidthStruct={"struct-12":["100%"],"struct-6-6":["50%","50%"],"struct-4-8":["33%","67%"],"struct-8-4":["67%","33%"],"struct-4-4-4":["33%","34%","33%"],"struct-3-3-3-3":["25%","25%","25%","25%"]},a.prototype.defaultCellspacing=10,a.prototype.buildHtml=function(a,b){var c,d,e,f,g,h;for(this.defaultWidthStruct[b]||(b="struct-12"),d='<table width="100%" class="'+BsEbConstant.CLASS_NAME_STRUCT_CONTAINER+'" cellspacing="'+this.defaultCellspacing+'" border="0" style="border-collapse:separate; border-spacing:'+this.defaultCellspacing+'px;"><tbody><tr>',g=this.defaultWidthStruct[b],e=0,f=g.length;e<f;e++)h=g[e],d+='<td width="'+h+'" class="'+BsEbConstant.CLASS_NAME_STRUCT_CONTENT+' empty"></td>';return d+="</tr></tbody></table>",this.type=b,this.$element=c=$("<tr><td>"+d+"</td></tr>"),c.data("bseb-instance",this),this.events(),a.after(c),this},a.prototype.events=function(){return this.$element.on("contextmenu",function(a){return $(BsEbConstant.SELECTOR_ID_CONTEXTMENU).data("bseb-instance").show(a,$(this))}).on("bseb-struct-more",this.onMore).on("bseb-struct-remove",this.onRemove).find(BsEbConstant.SELECTOR_STRUCT_CONTENT).sortable({items:">"+BsEbConstant.SELECTOR_ELEMENT_CONTENT,cursor:"move",placeholder:"bg-warning",connectWith:BsEbConstant.SELECTOR_STRUCT_CONTENT,start:function(a,b){return b.item.trigger("sortable-start")},stop:function(a,b){return b.item.trigger("sortable-stop")},receive:function(a,c){var d,e;if(d=c.helper,d&&d.data("draggable-type"))return e=d.data("draggable-type"),new b(d),d.remove()}}),this},a.prototype.onMore=function(){var a,b,c,d,f,g,h,i;return h=function(a,b){return a===b?'selected="selected"':""},a=this.$element,b=a.find(""+BsEbConstant.SELECTOR_STRUCT_CONTAINER),c=a.find(""+BsEbConstant.SELECTOR_STRUCT_CONTENT),i=BsEbConstant.escape(c.attr("valign")),i||(i="middle"),f=parseInt(b.attr("cellspacing")),(isNaN(f)||f<0)&&(f=0),d=BsEbConstant.escape(b.attr("bgcolor")),d||(d=""),g=new e.BsEbModal({title:BsEbConstant.translate("Structure"),body:'<div class="form-group">\n    <code class="pull-right">valign</code>\n    <label for="bs-eb-valign">'+BsEbConstant.translate("Vertical alignment")+'</label>\n    <select id="bs-eb-valign" class="form-control">\n        <option value="middle" '+h("middle",i)+">"+BsEbConstant.translate("Middle")+'</option>\n        <option value="top" '+h("top",i)+">"+BsEbConstant.translate("Top")+'</option>\n        <option value="bottom" '+h("bottom",i)+">"+BsEbConstant.translate("Bottom")+'</option>\n    </select>\n</div>\n<div class="form-group">\n    <code class="pull-right">cellspacing</code>\n    <label for="bs-eb-cellspacing">'+BsEbConstant.translate("Space between the cell")+'</label>\n    <select id="bs-eb-cellspacing" class="form-control">\n        <option value="0" '+h(0,f)+'>0px</option>\n        <option value="5" '+h(5,f)+'>5px</option>\n        <option value="10" '+h(10,f)+'>10px</option>\n        <option value="15" '+h(15,f)+'>15px</option>\n        <option value="20" '+h(20,f)+'>20px</option>\n        <option value="25" '+h(25,f)+'>25px</option>\n        <option value="30" '+h(30,f)+'>30px</option>\n        <option value="40" '+h(40,f)+'>40px</option>\n        <option value="50" '+h(50,f)+'>50px</option>\n    </select>\n</div>\n<div class="form-group">\n    <code class="pull-right">bgcolor</code>\n    <label for="bs-eb-bgcolor">'+BsEbConstant.translate("Background color")+'</label>\n    <div class="input-group">\n        <input type="text" id="bs-eb-bgcolor" value="'+d+'" placeholder="#ffffff" class="form-control"/>\n        <span class="input-group-addon" style="background-color:'+d+';">&nbsp;&nbsp;</span>\n    </div>\n</div>',btnOkClick:function(){return g.hide(),i=$("#bs-eb-valign").val(),f=$("#bs-eb-cellspacing").val(),d=$("#bs-eb-bgcolor").val(),c.attr("valign",i),b.attr("cellspacing",f).attr("bgcolor",d).css({borderCollapse:"separate",borderSpacing:f+"px",backgroundColor:d})},modalReady:function(){return $("#bs-eb-bgcolor").colorpicker({format:"hex"}).on("changeColor",function(){var a;return a=$(this),a.next().css({backgroundColor:a.colorpicker("getValue","#fff")})}).siblings(".input-group-addon").on("click",function(){return $(this).siblings("input").focus()})}}),this},a.prototype.onRemove=function(){return this.$element.siblings("tr").length?void this.$element.remove():(this.$element.find(BsEbConstant.SELECTOR_ELEMENT_CONTENT).trigger("bseb-elt-remove"),this)},a.constructor2=function(b){return b.each(function(){return new a($(this).parent().parent())})},a}(),c=function(){function a(a){null==a&&(a="create"),"create"===a&&(a=d.createElement("style"),a.type="text/css",d.getElementsByTagName("head")[0].appendChild(a)),this.sheet=a.sheet,this.cssRules=this.sheet.cssRules||this.sheet.rules||[]}return a.prototype.getIndexBySelector=function(a,b){var c,d,e,f,g;for(null==b&&(b=!0),f=this.cssRules,d=c=0,e=f.length;c<e;d=++c)if(g=f[d],a===g.selectorText)return d;return b?(d=this.cssRules.length,this._insert(a,d),d):-1},a.prototype.getStyleBySelector=function(a){return this.cssRules[this.getIndexBySelector(a)].style},a.prototype.deleteStyleBySelector=function(a){var b;return b=this.getIndexBySelector(a,!1),b<0?this:this._delete(b)},a.prototype._insert=function(a,b){return this.sheet.insertRule?this.sheet.insertRule(a+" { }",b):this.sheet.addRule&&this.sheet.addRule(a,null,b),this},a.prototype._delete=function(a){return this.sheet.deleteRule?this.sheet.deleteRule(a):this.sheet.removeRule&&this.sheet.removeRule(a),this},a}()}).call(this);