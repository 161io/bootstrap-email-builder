/*!
Bootstrap Email Builder v0.0.1
Copyright (c) 161 SARL, http://161.io
License: https://github.com/161io/bootstrap-email-builder/blob/master/license.txt
 */
(function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}},d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;b=window,a=b.BsEbConstant,b.BsEbTypeElementImage=function(e){function f(){return this.onMore=c(this.onMore,this),f.__super__.constructor.apply(this,arguments)}return d(f,e),f.tabButton=function(){return'<div class="col-xs-6">\n<a class="btn btn-lg btn-block btn-default" data-draggable-type="elt-image">\n    <span class="glyphicon glyphicon-picture"></span><br/>\n    <span>'+a.translate("Image")+"</span>\n</a>\n</div>"},f.prototype.defaultSrc="",f.prototype.defaultAlt="image",f.prototype.defaultStyle="display:block;border:0 none;width:100%;height:auto;",f.prototype.responsiveFilemanagerIframe="",f.prototype.buildHtml=function(b,c){var d;return d='<div class="'+a.CLASS_NAME_ELEMENT_CONTENT+'" data-type="'+c+'">\n<img src="'+this.defaultSrc+'" alt="'+this.defaultAlt+'" border="0" style="'+this.defaultStyle+'"/>\n</div>',f.__super__.buildHtml.call(this,b,c,d)},f.prototype.events=function(){return this.$element.on("bseb-elt-more",this.onMore),this},f.prototype.onMore=function(){var c,d,e,f,g,h,i;return h=this.responsiveFilemanagerIframe,!h&&b.tinyMCE&&tinyMCE.settings.external_filemanager_path&&(h=tinyMCE.settings.external_filemanager_path+"dialog.php?type=1&field_id=bs-eb-src",tinyMCE.settings.filemanager_access_key&&(h+="&akey="+tinyMCE.settings.filemanager_access_key)),c=this.$element.find("a").first(),d=this.$element.find("img").first(),f=a.escape(c.attr("href")),i=a.escape(d.attr("src")),e=a.escape(d.attr("alt")),g=new b.BsEbModal({title:a.translate("Content")+" : "+a.translate("Image"),body:'<div class="form-group">\n    <code class="pull-right">src=&quot;...&quot;</code>\n    <label for="bs-eb-src">'+a.translate("Source")+'</label>\n    <div class="input-group">\n        <input type="text" id="bs-eb-src" value="'+i+'" placeholder="https:// ... image.jpg" class="form-control"/>\n        <span class="input-group-btn"><button class="btn btn-default" type="button" id="bs-eb-src-browse">'+a.translate("Browse")+'</button></span>\n    </div>\n</div>\n<div class="form-group">\n    <code class="pull-right">alt=&quot;...&quot;</code>\n    <label for="bs-eb-alt">'+a.translate("Image description")+'</label>\n    <input type="text" id="bs-eb-alt" value="'+e+'" class="form-control" maxlength="50"/>\n</div>\n<hr/>\n<div class="form-group">\n    <code class="pull-right">href=&quot;...&quot;</code>\n    <label for="bs-eb-href">'+a.translate("Url")+'</label>\n    <input type="url" id="bs-eb-href" value="'+f+'" placeholder="https://..." class="form-control"/>\n</div>',btnOkClick:function(){var a;return g.hide(),a=$("#bs-eb-href").val(),a?c.length?c.attr("href",a):d.wrap('<a href="'+a+'" target="_blank"></a>'):c.length&&(d.appendTo(c.parent()),c.remove()),d.attr("src",$("#bs-eb-src").val()).attr("alt",$("#bs-eb-alt").val())},modalReady:function(){return $("#bs-eb-src-browse").on("click",function(){var a;return h?(a=$.featherlight('<iframe src="'+h+'" width="900" height="600" frameborder="0" style="border:none;"></iframe>',{}),b.responsive_filemanager_callback=function(b){return a.close(),setTimeout(function(){return g.show()},500)}):void $.featherlight('<div class="lead" style="padding:40px 30px 20px;">RESPONSIVE filemanager was not found.</div>')})}}),this},f}(b.AbstractBsEbTypeElement)}).call(this);